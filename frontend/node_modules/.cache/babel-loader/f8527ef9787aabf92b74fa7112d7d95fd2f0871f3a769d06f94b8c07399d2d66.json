{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\LOG\\\\frontend\\\\src\\\\pages\\\\Reports.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Reports() {\n  _s();\n  const [message, setMessage] = useState('');\n  const [feedback, setFeedback] = useState('');\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const token = localStorage.getItem('token');\n    if (!token) {\n      alert('Vous devez être connecté.');\n      return;\n    }\n    try {\n      await axios.post('http://localhost:4000/api/reports', {\n        message\n      },\n      // Ne PAS envoyer user_id ici\n      {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setFeedback('Rapport soumis avec succès !');\n      setMessage('');\n    } catch (error) {\n      console.error('Erreur lors de la soumission du rapport:', error);\n      setFeedback('Erreur lors de la soumission du rapport.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 600,\n      margin: 'auto',\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Soumettre un Rapport\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Message :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          required: true,\n          rows: 5,\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          marginTop: 10\n        },\n        children: \"Soumettre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), feedback && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: feedback\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(Reports, \"ZQBFv30bGR9Z5smCZAjtKWjQrNY=\");\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Reports","_s","message","setMessage","feedback","setFeedback","handleSubmit","event","preventDefault","token","localStorage","getItem","alert","post","headers","Authorization","error","console","style","maxWidth","margin","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","e","target","required","rows","width","type","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Desktop/LOG/frontend/src/pages/Reports.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction Reports() {\r\n  const [message, setMessage] = useState('');\r\n  const [feedback, setFeedback] = useState('');\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      alert('Vous devez être connecté.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.post(\r\n        'http://localhost:4000/api/reports',\r\n        { message }, // Ne PAS envoyer user_id ici\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      setFeedback('Rapport soumis avec succès !');\r\n      setMessage('');\r\n    } catch (error) {\r\n      console.error('Erreur lors de la soumission du rapport:', error);\r\n      setFeedback('Erreur lors de la soumission du rapport.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 600, margin: 'auto', padding: 20 }}>\r\n      <h1>Soumettre un Rapport</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label>Message :</label>\r\n          <textarea\r\n            value={message}\r\n            onChange={(e) => setMessage(e.target.value)}\r\n            required\r\n            rows={5}\r\n            style={{ width: '100%' }}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" style={{ marginTop: 10 }}>\r\n          Soumettre\r\n        </button>\r\n      </form>\r\n      {feedback && <p>{feedback}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Reports;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACjB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAE5C,MAAMU,YAAY,GAAG,MAAOC,KAAK,IAAK;IACpCA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACVG,KAAK,CAAC,2BAA2B,CAAC;MAClC;IACF;IAEA,IAAI;MACF,MAAMf,KAAK,CAACgB,IAAI,CACd,mCAAmC,EACnC;QAAEX;MAAQ,CAAC;MAAE;MACb;QACEY,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUN,KAAK;QAAG;MAC9C,CACF,CAAC;MACDJ,WAAW,CAAC,8BAA8B,CAAC;MAC3CF,UAAU,CAAC,EAAE,CAAC;IAChB,CAAC,CAAC,OAAOa,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;MAChEX,WAAW,CAAC,0CAA0C,CAAC;IACzD;EACF,CAAC;EAED,oBACEN,OAAA;IAAKmB,KAAK,EAAE;MAAEC,QAAQ,EAAE,GAAG;MAAEC,MAAM,EAAE,MAAM;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,gBACzDvB,OAAA;MAAAuB,QAAA,EAAI;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC7B3B,OAAA;MAAM4B,QAAQ,EAAErB,YAAa;MAAAgB,QAAA,gBAC3BvB,OAAA;QAAAuB,QAAA,gBACEvB,OAAA;UAAAuB,QAAA,EAAO;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACxB3B,OAAA;UACE6B,KAAK,EAAE1B,OAAQ;UACf2B,QAAQ,EAAGC,CAAC,IAAK3B,UAAU,CAAC2B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAC5CI,QAAQ;UACRC,IAAI,EAAE,CAAE;UACRf,KAAK,EAAE;YAAEgB,KAAK,EAAE;UAAO;QAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN3B,OAAA;QAAQoC,IAAI,EAAC,QAAQ;QAACjB,KAAK,EAAE;UAAEkB,SAAS,EAAE;QAAG,CAAE;QAAAd,QAAA,EAAC;MAEhD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EACNtB,QAAQ,iBAAIL,OAAA;MAAAuB,QAAA,EAAIlB;IAAQ;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3B,CAAC;AAEV;AAACzB,EAAA,CAjDQD,OAAO;AAAAqC,EAAA,GAAPrC,OAAO;AAmDhB,eAAeA,OAAO;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}